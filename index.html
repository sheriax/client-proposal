<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Solar Technical Company (K.S.A.) — Website Development Quotation (WDP-2025-0911-ST-HA)</title>
  <meta name="description"
    content="Professional website development quotation for Solar Technical Company (K.S.A.). Dynamic (Sanity CMS) and Static options with detailed scope, pricing, and implementation plan." />
  <meta name="color-scheme" content="light dark" />

  <!-- Required CDN Dependencies (exact links as requested) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Inter:wght@300;400;500;600&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>

  <style>
    :root {
      --primary-blue: #1e3a8a;
      --primary-blue-light: #3b82f6;
      --secondary-green: #059669;
      --secondary-green-light: #10b981;
      --secondary-green-dark: #047857;
      --accent-orange: #f97316;
      --neutral-50: #fafafa;
      --neutral-100: #f5f5f5;
      --neutral-200: #e5e5e5;
      --neutral-300: #d4d4d4;
      --neutral-600: #525252;
      --neutral-800: #262626;
      --neutral-900: #171717;
    }

    /* Typography helpers */
    .font-sans {
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    }

    .font-serif {
      font-family: 'Crimson Text', Georgia, 'Times New Roman', serif;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      background: white;
      color: var(--neutral-900);
    }

    [data-theme="dark"] body,
    [data-theme="dark"] {
      color-scheme: dark;
      background: #0b1220;
      color: #e6e6e6;
    }

    [dir="rtl"] * {
      letter-spacing: 0.1px;
    }

    /* Fixed sidebar / TOC */
    .sidebar {
      position: fixed;
      inset-block: 0;
      inset-inline-start: 0;
      width: 280px;
      z-index: 40;
      background: rgba(255, 255, 255, 0.7);
      border-inline-end: 1px solid var(--neutral-200);
      backdrop-filter: blur(10px) saturate(120%);
    }

    [data-theme="dark"] .sidebar {
      background: rgba(10, 12, 20, 0.5);
      border-color: rgba(255, 255, 255, 0.08);
    }

    .content-offset {
      margin-inline-start: 280px;
    }

    @media (max-width: 1024px) {
      .sidebar {
        display: none;
      }

      .content-offset {
        margin-inline-start: 0;
      }
    }

    .toc-link {
      display: block;
      padding: 0.5rem 0.75rem;
      border-radius: 0.5rem;
      color: var(--neutral-800);
      text-decoration: none;
    }

    [data-theme="dark"] .toc-link {
      color: #d6d6d6;
    }

    .toc-link.active {
      background: linear-gradient(90deg, rgba(59, 130, 246, 0.15), rgba(16, 185, 129, 0.15));
      color: var(--primary-blue);
      font-weight: 600;
    }

    [data-theme="dark"] .toc-link.active {
      color: #9ecbff;
    }

    /* Anchors */
    .section-anchor {
      scroll-margin-top: 2rem;
    }

    /* Hero */
    .hero-gradient {
      background: radial-gradient(1000px 600px at -10% -30%, rgba(59, 130, 246, 0.12), rgba(16, 185, 129, 0.0)),
        radial-gradient(800px 500px at 110% -20%, rgba(16, 185, 129, 0.16), rgba(59, 130, 246, 0.0)),
        linear-gradient(180deg, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0.92));
    }

    [data-theme="dark"] .hero-gradient {
      background: radial-gradient(1000px 600px at -10% -30%, rgba(59, 130, 246, 0.18), rgba(16, 185, 129, 0.0)),
        radial-gradient(800px 500px at 110% -20%, rgba(16, 185, 129, 0.22), rgba(59, 130, 246, 0.0)),
        linear-gradient(180deg, rgba(6, 10, 20, 0.95), rgba(6, 10, 20, 0.85));
    }

    /* Glass card */
    .glass {
      background: rgba(255, 255, 255, 0.6);
      border: 1px solid rgba(0, 0, 0, 0.06);
      border-radius: 1rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      backdrop-filter: blur(8px) saturate(130%);
    }

    [data-theme="dark"] .glass {
      background: rgba(16, 20, 32, 0.6);
      border-color: rgba(255, 255, 255, 0.08);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
    }

    /* Reveal on view (no text-jitter animations) */
    .reveal {
      opacity: 0;
      transform: translateY(12px);
      transition: opacity .6s ease, transform .6s ease;
    }

    .reveal.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Mermaid container with pan/zoom */
    .mermaid-container {
      position: relative;
      overflow: hidden;
      border-radius: 0.75rem;
      border: 1px solid var(--neutral-200);
      background: var(--neutral-50);
    }

    [data-theme="dark"] .mermaid-container {
      border-color: rgba(255, 255, 255, 0.08);
      background: rgba(255, 255, 255, 0.03);
    }

    .mermaid-toolbar {
      position: absolute;
      right: .5rem;
      top: .5rem;
      display: flex;
      gap: .25rem;
      z-index: 5;
    }

    .toolbar-btn {
      padding: .4rem .5rem;
      border-radius: .5rem;
      backdrop-filter: blur(6px);
      background: rgba(255, 255, 255, 0.75);
      border: 1px solid rgba(0, 0, 0, 0.06);
      color: var(--neutral-800);
    }

    .toolbar-btn:hover {
      background: rgba(255, 255, 255, 0.95);
    }

    [data-theme="dark"] .toolbar-btn {
      background: rgba(16, 20, 32, 0.6);
      color: #eaeaea;
      border-color: rgba(255, 255, 255, 0.08);
    }

    .mermaid-stage {
      width: 100%;
      height: 100%;
      touch-action: pinch-zoom pan-x pan-y;
    }

    /* Utility pills */
    .chip {
      display: inline-flex;
      align-items: center;
      gap: .4rem;
      border-radius: 999px;
      padding: .25rem .6rem;
      font-size: .75rem;
      font-weight: 600;
      border: 1px solid rgba(0, 0, 0, 0.06);
      background: rgba(255, 255, 255, 0.8);
    }

    [data-theme="dark"] .chip {
      border-color: rgba(255, 255, 255, 0.08);
      background: rgba(16, 20, 32, 0.6);
    }

    /* Buttons */
    .btn-primary {
      background: linear-gradient(90deg, var(--primary-blue) 0%, var(--secondary-green) 100%);
      color: #fff;
      padding: .7rem 1rem;
      border-radius: .65rem;
      font-weight: 600;
    }

    .btn-primary:hover {
      filter: brightness(1.05);
    }

    .btn-secondary {
      background: transparent;
      color: var(--primary-blue);
      border: 1px solid var(--primary-blue);
      padding: .7rem 1rem;
      border-radius: .65rem;
      font-weight: 600;
    }

    [data-theme="dark"] .btn-secondary {
      color: #9ecbff;
      border-color: #3b82f6;
    }

    /* Accents */
    .badge {
      display: inline-flex;
      align-items: center;
      gap: .4rem;
      background: rgba(59, 130, 246, 0.12);
      color: var(--primary-blue);
      padding: .25rem .5rem;
      border-radius: .5rem;
      font-size: .75rem;
      font-weight: 600;
    }

    p {
      color: #0b1220 !important;
    }

    [data-theme="dark"] p {
      color: #eaeaea !important;
    }

    [data-theme="dark"] .badge {
      background: rgba(59, 130, 246, 0.2);
      color: #c7e2ff;
    }

    /* Accessibility helpers */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }
  </style>
</head>

<body class="font-sans antialiased">
  <a href="#main-content"
    class="sr-only focus:not-sr-only focus:fixed focus:top-2 focus:left-2 focus:z-50 focus:px-3 focus:py-2 focus:bg-white focus:rounded focus:shadow">Skip
    to content</a>

  <!-- Fixed Sidebar (Desktop) -->
  <aside class="sidebar" aria-label="Table of contents">
    <div class="h-full flex flex-col">
      <div class="p-5 border-b border-neutral-200/70 dark:border-white/10">
        <div class="flex items-center gap-3">
          <div
            class="h-10 w-10 rounded-lg bg-gradient-to-br from-blue-600 to-emerald-500 flex items-center justify-center text-white">
            <i class="fa-solid fa-solar-panel text-lg"></i>
          </div>
          <div>
            <div class="text-sm text-black dark:text-neutral-300">Proposal</div>
            <div id="companyName" class="font-semibold">Solar Technical Company</div>
          </div>
        </div>
        <div class="mt-3 text-xs text-black dark:text-neutral-400">
          <div><span class="font-semibold">ID:</span> <span id="proposalId">WDP-2025-0911-ST-HA</span></div>
          <div><span class="font-semibold">Date:</span> <span id="proposalDate">2025/09/11</span></div>
          <div><span class="font-semibold">Valid:</span> <span id="proposalValidity">30 days</span></div>
        </div>
      </div>

      <nav class="flex-1 overflow-y-auto p-4 space-y-1 text-sm" id="tocNav">
        <a class="toc-link" href="#hero">Overview</a>
        <a class="toc-link" href="#introduction">Introduction</a>
        <a class="toc-link" href="#scope">Scope & Structure</a>
        <a class="toc-link" href="#tech-stack">Technology Stack</a>
        <a class="toc-link" href="#pricing">Pricing & Investment</a>
        <a class="toc-link" href="#timeline">Implementation Timeline</a>
        <a class="toc-link" href="#value-adds">Value-Added Inclusions</a>
        <a class="toc-link" href="#appendix">Appendix: Page Structure</a>
        <a class="toc-link" href="#contact">Next Steps & Contact</a>
      </nav>

      <!-- Quick reference -->
      <div class="p-4 border-t border-neutral-200/70 dark:border-white/10 text-sm">
        <div class="font-semibold mb-2">Quick Reference</div>
        <ul class="space-y-2">
          <li class="flex items-center gap-2"><span class="chip"><i class="fa-solid fa-coins text-blue-600"></i> Dynamic
              Total</span> <span id="dynamicTotal" class="font-semibold ml-auto">₹—</span></li>
          <li class="flex items-center gap-2"><span class="chip"><i class="fa-solid fa-file-code text-emerald-600"></i>
              Static Total</span> <span id="staticTotal" class="font-semibold ml-auto">₹—</span></li>
          <li class="flex items-center gap-2"><span class="chip"><i class="fa-solid fa-clock text-amber-600"></i>
              Timeline</span> <span class="ml-auto">4–6 weeks</span></li>
        </ul>
        <div class="mt-4 space-x-2">
          <button id="themeToggle" class="btn-secondary text-sm"><i
              class="fa-solid fa-circle-half-stroke mr-2"></i>Theme</button>
          <button id="langToggle" class="btn-secondary text-sm"><i class="fa-solid fa-language mr-2"></i>EN/AR</button>
        </div>
      </div>
    </div>
  </aside>

  <!-- Main Content -->
  <main id="main-content" class="content-offset">
    <!-- Hero -->
    <header id="hero" class="section-anchor hero-gradient">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 lg:py-16">
        <!-- Top bar (mobile tools) -->
        <div class="flex items-center justify-between lg:hidden mb-6">
          <div class="flex items-center gap-3">
            <div
              class="h-10 w-10 rounded-lg bg-gradient-to-br from-blue-600 to-emerald-500 flex items-center justify-center text-white">
              <i class="fa-solid fa-solar-panel text-lg"></i>
            </div>
            <div>
              <div class="text-xs text-black dark:text-neutral-300">Proposal</div>
              <div id="companyNameMobile" class="font-semibold">Solar Technical Company</div>
            </div>
          </div>
          <div class="flex gap-2">
            <button id="themeToggleMobile" class="btn-secondary text-xs"><i
                class="fa-solid fa-circle-half-stroke"></i></button>
            <button id="langToggleMobile" class="btn-secondary text-xs"><i class="fa-solid fa-language"></i></button>
          </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 items-stretch">
          <!-- Left (2fr) -->
          <div class="lg:col-span-2 reveal">
            <div class="flex flex-wrap items-center gap-2 mb-4">
              <span class="badge"><i class="fa-solid fa-building-shield"></i><span>Solar Technical Co.
                  (K.S.A.)</span></span>
              <span class="badge"><i class="fa-solid fa-hashtag"></i><span
                  id="proposalIdBadge">WDP-2025-0911-ST-HA</span></span>
              <span class="badge"><i class="fa-solid fa-calendar-day"></i><span
                  id="proposalDateBadge">2025/09/11</span></span>
              <span class="badge"><i class="fa-solid fa-bolt"></i><span>Dynamic + Static Options</span></span>
            </div>

            <h1 class="font-serif text-3xl sm:text-4xl lg:text-5xl font-semibold leading-tight">
              Website Development Quotation
            </h1>
            <p class="mt-4 text-black dark:text-neutral-300 max-w-3xl">
              A professional, dynamic, and scalable website to establish a strong digital presence, showcase technical
              expertise, and drive client engagement. Includes a Sanity CMS option for easy content management and an
              alternative Static site option for comparison.
            </p>

            <!-- Bento highlights -->
            <div class="mt-6 grid sm:grid-cols-2 gap-4">
              <div class="glass p-4">
                <div class="flex items-center gap-3">
                  <div
                    class="h-10 w-10 rounded-md bg-blue-600/10 text-blue-700 dark:text-blue-300 flex items-center justify-center">
                    <i class="fa-solid fa-diagram-project"></i>
                  </div>
                  <div>
                    <div class="font-semibold">Dynamic (CMS) Website</div>
                    <div class="text-sm text-black dark:text-neutral-400">Sanity.io + Next.js + Tailwind</div>
                  </div>
                </div>
                <ul class="mt-3 text-sm list-disc ms-5 space-y-1 text-black dark:text-neutral-300">
                  <li>CMS-managed content and dynamic templates</li>
                  <li>Video + carousel hero, responsive UI</li>
                  <li>Resend-powered contact form</li>
                </ul>
              </div>

              <div class="glass p-4">
                <div class="flex items-center gap-3">
                  <div
                    class="h-10 w-10 rounded-md bg-emerald-600/10 text-emerald-700 dark:text-emerald-300 flex items-center justify-center">
                    <i class="fa-solid fa-code"></i>
                  </div>
                  <div>
                    <div class="font-semibold">Static Website</div>
                    <div class="text-sm text-black dark:text-neutral-400">HTML/CSS/JS + SSG</div>
                  </div>
                </div>
                <ul class="mt-3 text-sm list-disc ms-5 space-y-1 text-black dark:text-neutral-300">
                  <li>Lower initial cost</li>
                  <li>Developer-assisted content updates</li>
                  <li>Serverless function for contact form</li>
                </ul>
              </div>
            </div>

            <div class="mt-6 flex flex-wrap gap-3">
              <a href="#pricing" class="btn-primary"><i class="fa-solid fa-coins mr-2"></i>View Pricing</a>
              <a href="#timeline" class="btn-secondary"><i class="fa-solid fa-timeline mr-2"></i>See Timeline</a>
            </div>
          </div>

          <!-- Right (1fr) Executive Summary -->
          <aside class="glass p-6 reveal">
            <div class="flex items-center gap-3">
              <div
                class="h-10 w-10 rounded-md bg-amber-500/15 text-amber-600 dark:text-amber-300 flex items-center justify-center">
                <i class="fa-solid fa-clipboard-list"></i>
              </div>
              <h2 class="font-semibold">Executive Summary</h2>
            </div>
            <p class="mt-3 text-sm text-black dark:text-neutral-300">
              We propose a dynamic, CMS-enabled website with a professional design system, performant frontend, and
              robust content workflows. An alternative static implementation is also provided for comparison.
            </p>
            <ul class="mt-4 space-y-3 text-sm">
              <li class="flex items-start gap-2"><i class="fa-solid fa-check text-emerald-600 mt-1"></i> Dynamic hero
                with seamless video-to-carousel transition</li>
              <li class="flex items-start gap-2"><i class="fa-solid fa-check text-emerald-600 mt-1"></i> CMS-driven
                services, gallery, and content pages</li>
              <li class="flex items-start gap-2"><i class="fa-solid fa-check text-emerald-600 mt-1"></i> Resend-secured
                contact form and Google Maps embed</li>
              <li class="flex items-start gap-2"><i class="fa-solid fa-check text-emerald-600 mt-1"></i> Dual-theme,
                bilingual-ready, and on-site SEO</li>
            </ul>
            <div class="mt-5 grid grid-cols-2 gap-3 text-sm">
              <div class="p-3 rounded-lg bg-blue-50 dark:bg-blue-500/10">
                <div class="text-black dark:text-neutral-300">Dynamic Total</div>
                <div id="dynamicTotalHero" class="font-semibold text-lg">₹—</div>
              </div>
              <div class="p-3 rounded-lg bg-emerald-50 dark:bg-emerald-500/10">
                <div class="text-black dark:text-neutral-300">Static Total</div>
                <div id="staticTotalHero" class="font-semibold text-lg">₹—</div>
              </div>
            </div>
            <div class="mt-4 text-xs text-black dark:text-neutral-400">
              Recurring costs: Sanity Free, Resend Free, Hosting Free Tier, Domain (~₹1,200/year)
            </div>
          </aside>
        </div>
      </div>
    </header>

    <!-- Introduction -->
    <section id="introduction" class="section-anchor py-20 bg-white dark:bg-transparent">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <header class="reveal">
          <h2 class="font-serif text-2xl sm:text-3xl font-semibold">Introduction</h2>
          <p class="mt-3 text-black dark:text-neutral-300 max-w-3xl">
            The website will elevate Solar Technical Company's digital presence in K.S.A., showcasing engineering
            credibility, service depth, and proof of work while enabling effortless content updates via Sanity CMS.
          </p>
        </header>
        <div class="mt-8 grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
          <article class="glass p-5 reveal">
            <div class="chip"><i class="fa-solid fa-users"></i> Target Audience</div>
            <p class="mt-3 text-sm text-black dark:text-neutral-300">
              Industrial and commercial clients, government/municipal buyers, and EPC partners seeking reliable solar
              engineering solutions.
            </p>
          </article>
          <article class="glass p-5 reveal">
            <div class="chip"><i class="fa-solid fa-bullseye"></i> Objectives</div>
            <ul class="mt-3 text-sm text-black dark:text-neutral-300 list-disc ms-5 space-y-1">
              <li>Communicate credibility with galleries, certificates, and awards</li>
              <li>Drive qualified inquiries via secure contact form</li>
              <li>Ensure fast updates without developer dependency (Dynamic option)</li>
            </ul>
          </article>
          <article class="glass p-5 reveal">
            <div class="chip"><i class="fa-solid fa-shield-halved"></i> Principles</div>
            <ul class="mt-3 text-sm text-black dark:text-neutral-300 list-disc ms-5 space-y-1">
              <li>Performance and accessibility</li>
              <li>Professional visual language (dark blue aesthetic)</li>
              <li>SEO and scalable information architecture</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <!-- Scope & Structure -->
    <section id="scope" class="section-anchor py-20 bg-neutral-50 dark:bg-white/5">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <header class="reveal">
          <h2 class="font-serif text-2xl sm:text-3xl font-semibold">Project Scope & Finalized Structure</h2>
          <p class="mt-3 text-black dark:text-neutral-300 max-w-3xl">Pages and components aligned to your approved
            structure.</p>
        </header>

        <div class="mt-8 grid lg:grid-cols-3 gap-6">
          <!-- Home -->
          <article class="glass p-5 reveal">
            <div class="flex items-center gap-3">
              <i class="fa-solid fa-house text-blue-600 dark:text-blue-300 text-xl"></i>
              <h3 class="font-semibold">Home Page</h3>
            </div>
            <ul class="mt-3 text-sm list-disc ms-5 space-y-1 text-black dark:text-neutral-300">
              <li>Dynamic hero: looping video with seamless zoom, transitions to carousel</li>
              <li>About, Services (CMS-driven), Our Customers, Why Choose Us</li>
              <li>Comprehensive footer with navigation and social links</li>
            </ul>
          </article>

          <!-- Services -->
          <article class="glass p-5 reveal">
            <div class="flex items-center gap-3">
              <i class="fa-solid fa-screwdriver-wrench text-blue-600 dark:text-blue-300 text-xl"></i>
              <h3 class="font-semibold">Service Details (Dynamic Template)</h3>
            </div>
            <ul class="mt-3 text-sm list-disc ms-5 space-y-1 text-black dark:text-neutral-300">
              <li>Reusable template generates one page per CMS service</li>
              <li>Fields for descriptions, specs, image galleries, related case studies</li>
            </ul>
          </article>

          <!-- Gallery -->
          <article class="glass p-5 reveal">
            <div class="flex items-center gap-3">
              <i class="fa-solid fa-images text-blue-600 dark:text-blue-300 text-xl"></i>
              <h3 class="font-semibold">Gallery</h3>
            </div>
            <ul class="mt-3 text-sm list-disc ms-5 space-y-1 text-black dark:text-neutral-300">
              <li>Filterable: Projects (Images/Videos), Certificates, Awards, Achievements</li>
              <li>All items managed via CMS for credibility and freshness</li>
            </ul>
          </article>

          <!-- Contact -->
          <article class="glass p-5 reveal">
            <div class="flex items-center gap-3">
              <i class="fa-solid fa-envelope text-blue-600 dark:text-blue-300 text-xl"></i>
              <h3 class="font-semibold">Contact Page</h3>
            </div>
            <ul class="mt-3 text-sm list-disc ms-5 space-y-1 text-black dark:text-neutral-300">
              <li>Embedded Google Map with “Get Directions”</li>
              <li>Secure contact form: Name, Phone, Email, Message, Reference</li>
              <li>Submissions routed via Resend with success/error handling</li>
            </ul>
          </article>

          <!-- About -->
          <article class="glass p-5 reveal">
            <div class="flex items-center gap-3">
              <i class="fa-solid fa-circle-info text-blue-600 dark:text-blue-300 text-xl"></i>
              <h3 class="font-semibold">About Us</h3>
            </div>
            <ul class="mt-3 text-sm list-disc ms-5 space-y-1 text-black dark:text-neutral-300">
              <li>Derived from official documents with company history and team</li>
              <li>Structured for SEO with semantic HTML and schema</li>
            </ul>
          </article>

          <!-- Customers -->
          <article class="glass p-5 reveal">
            <div class="flex items-center gap-3">
              <i class="fa-solid fa-user-check text-blue-600 dark:text-blue-300 text-xl"></i>
              <h3 class="font-semibold">Our Customers</h3>
            </div>
            <p class="mt-3 text-sm text-black dark:text-neutral-300">
              CMS-managed client logos and names (initially placeholders), designed to scale as your portfolio grows.
            </p>
          </article>
        </div>

        <!-- Workflow Diagram -->
        <div class="mt-10 reveal">
          <div class="flex items-center justify-between mb-3">
            <h3 class="font-semibold">High-Level System Workflow</h3>
            <span class="text-xs text-black dark:text-neutral-400">Interactive diagram (zoom, pan,
              fullscreen)</span>
          </div>
          <div class="mermaid-container h-[420px]" id="workflowBox" aria-label="Mermaid diagram: high-level workflow">
            <div class="mermaid-toolbar">
              <button class="toolbar-btn" data-zoom-in title="Zoom in"><i
                  class="fa-solid fa-magnifying-glass-plus"></i></button>
              <button class="toolbar-btn" data-zoom-out title="Zoom out"><i
                  class="fa-solid fa-magnifying-glass-minus"></i></button>
              <button class="toolbar-btn" data-reset title="Reset view"><i
                  class="fa-solid fa-rotate-right"></i></button>
              <button class="toolbar-btn" data-fullscreen title="Fullscreen"><i
                  class="fa-solid fa-up-right-and-down-left-from-center"></i></button>
            </div>
            <div class="mermaid-stage p-3">
              <div class="mermaid" id="workflowDiagram">
                graph TD
                A[Sanity CMS]:::node -->|Content API| B[Next.js Frontend]
                B -->|Deployed| C[Vercel/Netlify CDN]
                D[Visitor]:::user -->|Requests| C
                D -->|Submits Form| E[Contact Form Handler]
                E -->|Deliver Email| F[Resend API]
                F -->|Routes To| G[Company Inbox]

                classDef node fill:#E0F2FE,stroke:#1e3a8a,stroke-width:1px,color:#1e3a8a;
                classDef user fill:#DCFCE7,stroke:#059669,stroke-width:1px,color:#065f46;
              </div>
            </div>
            <div class="px-3 pb-3 text-xs text-black dark:text-neutral-400">
              Tip: Drag to pan. Use trackpad pinch or the +/– buttons to zoom.
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Technology Stack -->
    <section id="tech-stack" class="section-anchor py-20 bg-white dark:bg-transparent">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <header class="reveal">
          <h2 class="font-serif text-2xl sm:text-3xl font-semibold">Technology Stack (Dynamic Website)</h2>
          <p class="mt-3 text-black dark:text-neutral-300 max-w-3xl">
            A modern, scalable stack optimized for performance, SEO, and easy content management.
          </p>
        </header>

        <div class="mt-8 grid md:grid-cols-2 gap-6">
          <article class="glass p-5 reveal">
            <div class="flex items-center gap-3 mb-3">
              <i class="fa-brands fa-react text-sky-600 dark:text-sky-300 text-xl"></i>
              <h3 class="font-semibold">Next.js (React)</h3>
            </div>
            <p class="text-sm text-black dark:text-neutral-300">
              Server-side rendering and static generation for fast, SEO-friendly pages.
            </p>
          </article>
          <article class="glass p-5 reveal">
            <div class="flex items-center gap-3 mb-3">
              <i class="fa-solid fa-paintbrush text-indigo-600 dark:text-indigo-300 text-xl"></i>
              <h3 class="font-semibold">Tailwind CSS</h3>
            </div>
            <p class="text-sm text-black dark:text-neutral-300">
              Rapid, professional UI development with responsive, accessible components.
            </p>
          </article>
          <article class="glass p-5 reveal">
            <div class="flex items-center gap-3 mb-3">
              <i class="fa-solid fa-database text-emerald-600 dark:text-emerald-300 text-xl"></i>
              <h3 class="font-semibold">Sanity.io CMS</h3>
            </div>
            <p class="text-sm text-black dark:text-neutral-300">
              Headless CMS for flexible content schemas (services, galleries, pages) and real-time editing.
            </p>
          </article>
          <article class="glass p-5 reveal">
            <div class="flex items-center gap-3 mb-3">
              <i class="fa-solid fa-paper-plane text-rose-600 dark:text-rose-300 text-xl"></i>
              <h3 class="font-semibold">Resend (Email)</h3>
            </div>
            <p class="text-sm text-black dark:text-neutral-300">
              Reliable email delivery for the contact form with secure server-side handling.
            </p>
          </article>
        </div>
      </div>
    </section>

    <!-- Pricing & Investment -->
    <section id="pricing" class="section-anchor py-20 bg-neutral-50 dark:bg-white/5">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <header class="reveal">
          <h2 class="font-serif text-2xl sm:text-3xl font-semibold">Pricing & Investment</h2>
          <p class="mt-3 text-black dark:text-neutral-300 max-w-3xl">
            End-to-end design, development, and deployment costs based on your approved scope.
          </p>
        </header>

        <div class="mt-8 grid lg:grid-cols-2 gap-6">
          <!-- Dynamic -->
          <article class="glass p-5 reveal" aria-label="Dynamic website pricing">
            <div class="flex items-center justify-between">
              <h3 class="font-semibold">Dynamic Website (with CMS)</h3>
              <span class="chip"><i class="fa-solid fa-bolt text-amber-600"></i> Recommended</span>
            </div>
            <table class="w-full mt-4 text-sm">
              <thead class="text-left text-black dark:text-neutral-400">
                <tr>
                  <th class="py-2">Service</th>
                  <th class="py-2">Description</th>
                  <th class="py-2 text-right">Cost (INR)</th>
                </tr>
              </thead>
              <tbody id="dynamicTable" class="align-top"></tbody>
              <tfoot>
                <tr class="border-t border-neutral-200 dark:border-white/10">
                  <td colspan="2" class="py-3 font-semibold">One-Time Development Cost</td>
                  <td id="dynamicTotalCell" class="py-3 font-semibold text-right">₹—</td>
                </tr>
              </tfoot>
            </table>

            <div class="mt-4 text-xs text-black dark:text-neutral-400">
              Recurring: Sanity (Free), Resend (Free), Hosting (Free Tier), Domain (~₹1,200/year)
            </div>
          </article>

          <!-- Static -->
          <article class="glass p-5 reveal" aria-label="Static website pricing">
            <div class="flex items-center justify-between">
              <h3 class="font-semibold">Static Website</h3>
              <span class="chip"><i class="fa-solid fa-scale-balanced text-blue-600"></i> Alternative</span>
            </div>
            <table class="w-full mt-4 text-sm">
              <thead class="text-left text-black dark:text-neutral-400">
                <tr>
                  <th class="py-2">Service</th>
                  <th class="py-2">Description</th>
                  <th class="py-2 text-right">Cost (INR)</th>
                </tr>
              </thead>
              <tbody id="staticTable" class="align-top"></tbody>
              <tfoot>
                <tr class="border-t border-neutral-200 dark:border-white/10">
                  <td colspan="2" class="py-3 font-semibold">One-Time Development Cost</td>
                  <td id="staticTotalCell" class="py-3 font-semibold text-right">₹—</td>
                </tr>
              </tfoot>
            </table>
          </article>
        </div>

        <!-- Feature matrix -->
        <div class="mt-8 reveal">
          <h3 class="font-semibold mb-3">Feature Comparison</h3>
          <div class="grid md:grid-cols-2 gap-4 text-sm">
            <div class="glass p-4">
              <div class="font-semibold mb-2"><i class="fa-solid fa-bolt text-amber-600 mr-2"></i>Dynamic (CMS)</div>
              <ul class="list-disc ms-5 space-y-1 text-black dark:text-neutral-300">
                <li>CMS content updates without developer assistance</li>
                <li>Dynamic service templates and gallery</li>
                <li>Scales easily with new sections</li>
              </ul>
            </div>
            <div class="glass p-4">
              <div class="font-semibold mb-2"><i class="fa-solid fa-code text-emerald-600 mr-2"></i>Static</div>
              <ul class="list-disc ms-5 space-y-1 text-black dark:text-neutral-300">
                <li>Lower initial investment</li>
                <li>Content updates billed separately</li>
                <li>Suitable for infrequent updates</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Timeline (Mermaid Gantt) -->
    <section id="timeline" class="section-anchor py-20 bg-white dark:bg-transparent">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <header class="reveal">
          <h2 class="font-serif text-2xl sm:text-3xl font-semibold">Implementation Timeline (4–6 Weeks)</h2>
          <p class="mt-3 text-black dark:text-neutral-300 max-w-3xl">A realistic, milestone-based plan from
            discovery to deployment and handover.</p>
        </header>

        <div class="mt-6 mermaid-container h-[420px] reveal" id="timelineBox"
          aria-label="Mermaid diagram: project timeline">
          <div class="mermaid-toolbar">
            <button class="toolbar-btn" data-zoom-in title="Zoom in"><i
                class="fa-solid fa-magnifying-glass-plus"></i></button>
            <button class="toolbar-btn" data-zoom-out title="Zoom out"><i
                class="fa-solid fa-magnifying-glass-minus"></i></button>
            <button class="toolbar-btn" data-reset title="Reset view"><i class="fa-solid fa-rotate-right"></i></button>
            <button class="toolbar-btn" data-fullscreen title="Fullscreen"><i
                class="fa-solid fa-up-right-and-down-left-from-center"></i></button>
          </div>
          <div class="mermaid-stage p-3">
            <div class="mermaid" id="timelineDiagram">
              gantt
              title Project Timeline (4–6 Weeks)
              dateFormat YYYY-MM-DD
              section Week 1
              Discovery & UI/UX Design :done, des1, 2025-09-11, 7d
              section Weeks 2–4
              Frontend Dev & CMS Integration :active, dev1, 2025-09-18, 21d
              section Week 5
              Integration, Testing, Feedback : test1, 2025-10-09, 7d
              section Week 6
              Final Revisions & Deployment : rel1, 2025-10-16, 7d
            </div>
          </div>
          <div class="px-3 pb-3 text-xs text-black dark:text-neutral-400">
            Tip: Use the toolbar to zoom/pan. On mobile, use two-finger pinch/drag.
          </div>
        </div>
      </div>
    </section>

    <!-- Value-Added Inclusions -->
    <section id="value-adds" class="section-anchor py-20 bg-neutral-50 dark:bg-white/5">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <header class="reveal">
          <h2 class="font-serif text-2xl sm:text-3xl font-semibold">Value-Added Inclusions (Special Offer)</h2>
        </header>
        <div class="mt-8 grid md:grid-cols-2 lg:grid-cols-4 gap-6">
          <article class="glass p-5 reveal">
            <div class="flex items-center gap-3">
              <i class="fa-solid fa-circle-half-stroke text-blue-600 dark:text-blue-300 text-xl"></i>
              <h3 class="font-semibold">Dual Theme</h3>
            </div>
            <p class="mt-2 text-sm text-black dark:text-neutral-300">Professional Light and Dark modes with a
              theme switcher for viewing comfort.</p>
          </article>
          <article class="glass p-5 reveal">
            <div class="flex items-center gap-3">
              <i class="fa-solid fa-language text-blue-600 dark:text-blue-300 text-xl"></i>
              <h3 class="font-semibold">Bilingual Ready</h3>
            </div>
            <p class="mt-2 text-sm text-black dark:text-neutral-300">Architecture supports English and Arabic
              content (RTL-aware UI).</p>
          </article>
          <article class="glass p-5 reveal">
            <div class="flex items-center gap-3">
              <i class="fa-solid fa-magnifying-glass-chart text-blue-600 dark:text-blue-300 text-xl"></i>
              <h3 class="font-semibold">On-Site SEO</h3>
            </div>
            <p class="mt-2 text-sm text-black dark:text-neutral-300">Meta tags, semantic HTML, and schema markup
              from day one.</p>
          </article>
          <article class="glass p-5 reveal">
            <div class="flex items-center gap-3">
              <i class="fa-solid fa-headset text-blue-600 dark:text-blue-300 text-xl"></i>
              <h3 class="font-semibold">6 Months Support</h3>
            </div>
            <p class="mt-2 text-sm text-black dark:text-neutral-300">Complimentary post-launch support for bug
              fixes and performance monitoring.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- Appendix -->
    <section id="appendix" class="section-anchor py-20 bg-white dark:bg-transparent">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <header class="reveal">
          <h2 class="font-serif text-2xl sm:text-3xl font-semibold">Appendix: Page Structure (Quick View)</h2>
        </header>
        <div class="mt-6 grid md:grid-cols-2 gap-6">
          <div class="glass p-5 reveal">
            <h3 class="font-semibold">Home Page Sections</h3>
            <ul class="mt-3 text-sm list-disc ms-5 space-y-1 text-black dark:text-neutral-300">
              <li>Hero (Video → Carousel)</li>
              <li>About (summary)</li>
              <li>Services (CMS list)</li>
              <li>Our Customers</li>
              <li>Why Choose Us</li>
              <li>Footer</li>
            </ul>
          </div>
          <div class="glass p-5 reveal">
            <h3 class="font-semibold">Other Pages</h3>
            <ul class="mt-3 text-sm list-disc ms-5 space-y-1 text-black dark:text-neutral-300">
              <li>Service Details (dynamic template per service)</li>
              <li>Gallery (Projects, Certificates, Awards, Achievements)</li>
              <li>Contact (Map, Form)</li>
              <li>About Us (detailed)</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact / Next Steps -->
    <section id="contact" class="section-anchor py-20 bg-neutral-50 dark:bg-white/5">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <header class="reveal">
          <h2 class="font-serif text-2xl sm:text-3xl font-semibold">Next Steps</h2>
          <p class="mt-3 text-black dark:text-neutral-300 max-w-3xl">Please review the options and confirm your
            preferred approach. We will schedule a kickoff to begin design.</p>
        </header>

        <div class="mt-6 grid lg:grid-cols-3 gap-6">
          <div class="glass p-5 reveal">
            <h3 class="font-semibold">1) Review</h3>
            <p class="text-sm text-black dark:text-neutral-300">Compare Dynamic and Static options and validate
              the timeline.</p>
          </div>
          <div class="glass p-5 reveal">
            <h3 class="font-semibold">2) Confirm</h3>
            <p class="text-sm text-black dark:text-neutral-300">Approve the quotation and select the chosen
              approach.</p>
          </div>
          <div class="glass p-5 reveal">
            <h3 class="font-semibold">3) Kickoff</h3>
            <p class="text-sm text-black dark:text-neutral-300">We start with discovery and UI/UX design (Week 1).
            </p>
          </div>
        </div>

        <div class="mt-6 flex flex-wrap gap-3 reveal">
          <button class="btn-primary" id="btnApproveDynamic"><i class="fa-solid fa-check mr-2"></i>Approve
            Dynamic</button>
          <button class="btn-secondary" id="btnApproveStatic"><i class="fa-solid fa-check-double mr-2"></i>Approve
            Static</button>
          <button class="btn-secondary" id="btnDownload"><i class="fa-solid fa-file-arrow-down mr-2"></i>Download
            PDF</button>
        </div>

        <div class="mt-10 glass p-6 reveal">
          <h3 class="font-semibold mb-2">Contact</h3>
          <div class="grid md:grid-cols-3 gap-3 text-sm">
            <div class="flex items-center gap-2"><i class="fa-solid fa-envelope text-blue-600 dark:text-blue-300"></i>
              <a id="contactEmail" class="underline" href="#">contact@sheriax.com</a>
            </div>
            <div class="flex items-center gap-2"><i class="fa-solid fa-phone text-blue-600 dark:text-blue-300"></i> <a
                id="contactPhone" class="underline" href="#">+91 7338923502</a></div>
            <div class="flex items-center gap-2"><i class="fa-solid fa-globe text-blue-600 dark:text-blue-300"></i> <a
                id="contactWebsite" class="underline" href="#" target="_blank" rel="noopener">Website</a></div>
          </div>
        </div>
      </div>
    </section>

    <footer class="py-10 text-center text-xs text-black dark:text-neutral-400">
      © <span id="year"></span> Sheriax — Proposal for Solar Technical Company (K.S.A.)
    </footer>
  </main>

  <script>
    /* Centralized configuration */
    const CONFIG = {
      pricing: {
        dynamic: [
          { service: "UI/UX Design & Prototyping", description: "Complete visual system, wireframes, prototype (dark blue aesthetic).", amount: 25000 },
          { service: "Frontend Website Development", description: "Next.js + Tailwind; video/carousel hero, dynamic templates, responsive.", amount: 75000 },
          { service: "Sanity.io CMS Integration", description: "Backend setup, schemas (services, gallery, pages), training.", amount: 45000 },
          { service: "Google Maps Integration", description: "Embedded map on Contact page.", amount: 7000 },
          { service: "Resend Email Integration", description: "Secure API integration, templates, success/error handling.", amount: 10000 },
          { service: "Project Management & QA", description: "Oversight, cross-browser testing, performance optimization.", amount: 18000 },
        ],
        static: [
          { service: "UI/UX Design & Prototyping", description: "Identical to dynamic option.", amount: 25000 },
          { service: "Static Website Development", description: "All pages/components; content hard-coded.", amount: 60000 },
          { service: "Third-Party Integrations", description: "Google Maps + contact form via serverless function.", amount: 15000 },
          { service: "Project Management & QA", description: "Oversight, communication, and testing.", amount: 15000 },
        ]
      },
      contact: {
        email: "contact@sheriax.com",
        phone: "+91 7338923502",
        website: "https://sheriax.com   "
      },
      meta: {
        company: "Solar Technical Company (K.S.A.)",
        proposalId: "WDP-2025-0911-ST-HA",
        date: "2025/09/11",
        validity: "30 days"
      }
    };

    /* Utilities */
    const formatINR = (n) => new Intl.NumberFormat("en-IN", { style: "currency", currency: "INR", maximumFractionDigits: 0 }).format(n);
    const $ = (sel, root = document) => root.querySelector(sel);
    const $$ = (sel, root = document) => Array.from(root.querySelectorAll(sel));

    /* Populate dynamic content */
    function populateMeta() {
      const { company, proposalId, date, validity } = CONFIG.meta;
      $("#companyName").textContent = company;
      $("#companyNameMobile").textContent = company;
      $("#proposalId").textContent = proposalId;
      $("#proposalIdBadge").textContent = proposalId;
      $("#proposalDate").textContent = date;
      $("#proposalDateBadge").textContent = date;
      $("#proposalValidity").textContent = validity;
      $("#year").textContent = new Date().getFullYear();

      $("#contactEmail").textContent = CONFIG.contact.email;
      $("#contactEmail").href = `mailto:${CONFIG.contact.email}`;
      $("#contactPhone").textContent = CONFIG.contact.phone;
      $("#contactPhone").href = `tel:${CONFIG.contact.phone.replace(/\s+/g, '')}`;
      $("#contactWebsite").textContent = CONFIG.contact.website.replace(/\s+/g, '').replace(/^https?:\/\//, '');
      $("#contactWebsite").href = CONFIG.contact.website.trim();
    }

    function buildPricingTables() {
      const dynTbody = $("#dynamicTable");
      const staTbody = $("#staticTable");
      dynTbody.innerHTML = "";
      staTbody.innerHTML = "";

      let dynSum = 0, staSum = 0;

      CONFIG.pricing.dynamic.forEach(item => {
        dynSum += item.amount;
        dynTbody.insertAdjacentHTML('beforeend', `
            <tr class="border-b border-neutral-100 dark:border-white/5">
              <td class="py-2 font-medium">${item.service}</td>
              <td class="py-2 text-black dark:text-neutral-300">${item.description}</td>
              <td class="py-2 text-right">${formatINR(item.amount)}</td>
            </tr>
          `);
      });
      CONFIG.pricing.static.forEach(item => {
        staSum += item.amount;
        staTbody.insertAdjacentHTML('beforeend', `
            <tr class="border-b border-neutral-100 dark:border-white/5">
              <td class="py-2 font-medium">${item.service}</td>
              <td class="py-2 text-black dark:text-neutral-300">${item.description}</td>
              <td class="py-2 text-right">${formatINR(item.amount)}</td>
            </tr>
          `);
      });

      $("#dynamicTotalCell").textContent = formatINR(dynSum);
      $("#staticTotalCell").textContent = formatINR(staSum);
      $("#dynamicTotal").textContent = formatINR(dynSum);
      $("#staticTotal").textContent = formatINR(staSum);
      $("#dynamicTotalHero").textContent = formatINR(dynSum);
      $("#staticTotalHero").textContent = formatINR(staSum);
    }

    /* Theme & language toggles */
    function setupThemeToggle() {
      const apply = (mode) => { document.documentElement.setAttribute("data-theme", mode); localStorage.setItem("theme", mode); };
      const saved = localStorage.getItem("theme");
      apply(saved || "light");
      const toggles = ["#themeToggle", "#themeToggleMobile"].map(id => $(id)).filter(Boolean);
      toggles.forEach(btn => btn.addEventListener("click", () => {
        const next = document.documentElement.getAttribute("data-theme") === "light" ? "dark" : "light";
        apply(next);
      }));
    }

    const TEXT = {
      en: {
        "nav-overview": "Overview",
        "nav-intro": "Introduction",
        "nav-scope": "Scope & Structure",
        "nav-tech": "Technology Stack",
        "nav-pricing": "Pricing & Investment",
        "nav-timeline": "Implementation Timeline",
        "nav-value": "Value-Added Inclusions",
        "nav-appendix": "Appendix: Page Structure",
        "nav-contact": "Next Steps & Contact"
      },
      ar: {
        "nav-overview": "نظرة عامة",
        "nav-intro": "مقدمة",
        "nav-scope": "النطاق والبنية",
        "nav-tech": "حزمة التقنيات",
        "nav-pricing": "التسعير والاستثمار",
        "nav-timeline": "الجدول الزمني للتنفيذ",
        "nav-value": "القيمة المضافة",
        "nav-appendix": "الملحق: بنية الصفحات",
        "nav-contact": "الخطوات التالية والتواصل"
      }
    };

    function setupLanguageToggle() {
      const apply = (lang) => {
        document.documentElement.lang = lang;
        document.documentElement.dir = (lang === "ar") ? "rtl" : "ltr";
        localStorage.setItem("lang", lang);
        // Update nav labels (example)
        const labels = ["overview", "intro", "scope", "tech", "pricing", "timeline", "value", "appendix", "contact"];
        labels.forEach(key => {
          const sel = `a[href="#${key === "overview" ? "hero" : key}"]`;
          $$(sel, $("#tocNav")).forEach(a => a.textContent = TEXT[lang][`nav-${key === "hero" ? "overview" : key}`]);
        });
      };
      const saved = localStorage.getItem("lang") || "en";
      apply(saved);

      const toggles = ["#langToggle", "#langToggleMobile"].map(id => $(id)).filter(Boolean);
      toggles.forEach(btn => btn.addEventListener("click", () => {
        const next = (document.documentElement.lang === "en") ? "ar" : "en";
        apply(next);
      }));
    }

    /* TOC active highlight */
    function setupTOCHighlight() {
      const links = $$(".toc-link");
      const map = new Map();
      links.forEach(a => {
        const id = a.getAttribute("href").replace("#", "");
        const section = document.getElementById(id);
        if (section) map.set(section, a);
      });
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const link = map.get(entry.target);
          if (!link) return;
          if (entry.isIntersecting) {
            links.forEach(l => l.classList.remove("active"));
            link.classList.add("active");
          }
        });
      }, { rootMargin: "-40% 0px -55% 0px", threshold: 0.01 });
      map.forEach((_, section) => observer.observe(section));
    }

    /* Reveal on scroll */
    function setupReveal() {
      const els = $$(".reveal");
      const io = new IntersectionObserver((entries) => {
        entries.forEach(e => {
          if (e.isIntersecting) {
            e.target.classList.add("is-visible");
            io.unobserve(e.target);
          }
        });
      }, { threshold: 0.1 });
      els.forEach(el => io.observe(el));
    }

    /* Mermaid init and pan/zoom handlers */
    function initMermaid() {
      mermaid.initialize({ startOnLoad: true, theme: 'neutral', securityLevel: 'loose' });

      // After render, attach controls
      const boxes = [$("#workflowBox"), $("#timelineBox")].filter(Boolean);
      boxes.forEach(setupPanZoomBox);
    }

    function setupPanZoomBox(box) {
      let scale = 1, tx = 0, ty = 0;
      let isPanning = false, startX = 0, startY = 0;

      const stage = $(".mermaid-stage", box);

      function applyTransform() {
        const svg = $("svg", stage);
        if (!svg) return;
        svg.style.transformOrigin = "0 0";
        svg.style.transform = `translate(${tx}px, ${ty}px) scale(${scale})`;
      }

      function reset() {
        scale = 1; tx = 0; ty = 0; applyTransform();
      }

      // toolbar
      $("[data-zoom-in]", box).addEventListener("click", () => { scale = Math.min(4, scale * 1.2); applyTransform(); });
      $("[data-zoom-out]", box).addEventListener("click", () => { scale = Math.max(0.25, scale / 1.2); applyTransform(); });
      $("[data-reset]", box).addEventListener("click", reset);
      $("[data-fullscreen]", box).addEventListener("click", () => {
        if (!document.fullscreenElement) { box.requestFullscreen?.(); } else { document.exitFullscreen?.(); }
      });

      // mouse
      stage.addEventListener("wheel", (e) => {
        e.preventDefault();
        const delta = Math.sign(e.deltaY);
        const rect = stage.getBoundingClientRect();
        const cx = e.clientX - rect.left;
        const cy = e.clientY - rect.top;

        const prevScale = scale;
        scale = delta > 0 ? Math.max(0.25, scale / 1.1) : Math.min(4, scale * 1.1);

        // zoom towards cursor
        tx = cx - (cx - tx) * (scale / prevScale);
        ty = cy - (cy - ty) * (scale / prevScale);
        applyTransform();
      }, { passive: false });

      stage.addEventListener("pointerdown", (e) => {
        isPanning = true; startX = e.clientX - tx; startY = e.clientY - ty;
        stage.setPointerCapture(e.pointerId);
      });
      stage.addEventListener("pointermove", (e) => {
        if (!isPanning) return;
        tx = e.clientX - startX; ty = e.clientY - startY; applyTransform();
      });
      stage.addEventListener("pointerup", (e) => { isPanning = false; stage.releasePointerCapture(e.pointerId); });
      stage.addEventListener("pointercancel", () => { isPanning = false; });

      // initial transform application after mermaid has rendered
      const tryApply = () => { if ($("svg", stage)) applyTransform(); else requestAnimationFrame(tryApply); };
      tryApply();
    }

    /* Download as PDF (print) */
    function setupDownload() {
      $("#btnDownload")?.addEventListener("click", () => {
        window.print();
      });
    }

    /* Approvals (placeholder actions) */
    function setupApprovals() {
      $("#btnApproveDynamic")?.addEventListener("click", () => {
        alert("Thank you! We’ll proceed with the Dynamic (CMS) option and schedule a kickoff.");
      });
      $("#btnApproveStatic")?.addEventListener("click", () => {
        alert("Thank you! We’ll proceed with the Static option and schedule a kickoff.");
      });
    }

    /* Init */
    document.addEventListener("DOMContentLoaded", () => {
      populateMeta();
      buildPricingTables();
      setupThemeToggle();
      setupLanguageToggle();
      setupTOCHighlight();
      setupReveal();
      initMermaid();
      setupDownload();
      setupApprovals();
    });
  </script>
</body>

</html>